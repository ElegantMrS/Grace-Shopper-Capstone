(this.webpackJsonpstarting_code=this.webpackJsonpstarting_code||[]).push([[0],{118:function(e,t,r){"use strict";r.r(t);var n=r(0),a=r.n(n),s=r(7),c=r.n(s),o=r(17),i=r(156),l=r(165),u=r(166),j=r(74),d=Object(j.a)({palette:{primary:{light:"#b6ffff",main:"#df7332",dark:"#1E7827",contrastText:"#000000"},secondary:{light:"#C71212",main:"#155de9",dark:"#0035b6",contrastText:"#C7C7C7"},overrides:{MuiCssBaseline:{"@global":{body:{backgroundImage:"url(https://www.freepik.com/free-photo/young-beautiful-woman-bright-sportwear-isolated-gradient-pink-blue-background-neon-light_11689918.htm)"}}}}}}),b=r(19),h=r(9),p=r(120),m=r(168),x=r(158),O=r(157),g=r(154),f=r(167),v=r(169),w=r(49),y=r.n(w),k=r(2),C=function(e){var t=e.loggedIn,r=a.a.useState(null),n=Object(o.a)(r,2),s=n[0],c=n[1],i=function(){c(null)};return Object(k.jsxs)("div",{children:[Object(k.jsx)(g.a,{"aria-controls":"simple-menu","aria-haspopup":"true",onClick:function(e){c(e.currentTarget)},children:Object(k.jsx)(y.a,{className:"menuIcon"})}),Object(k.jsxs)(f.a,{id:"simple-menu",anchorEl:s,keepMounted:!0,open:Boolean(s),onClose:i,children:[Object(k.jsx)(v.a,{onClick:i,children:Object(k.jsx)(b.b,{to:"/",className:"routeLinks",children:"Home"})}),Object(k.jsx)(v.a,{onClick:i,children:Object(k.jsx)(b.b,{to:"/merchandise",className:"Products",children:"Art"})}),Object(k.jsx)(v.a,{onClick:i,children:Object(k.jsx)(b.b,{to:"/",className:"routeLinks",children:"About Us"})}),t?Object(k.jsx)(v.a,{onClick:i,children:Object(k.jsx)(b.b,{to:"/Cart",className:"routeLinks",children:"My Cart"})}):""]})]})},S=Object(i.a)({root:{flexGrow:1,padding:10},leftAlign:{marginRight:"auto"}}),I=function(){var e=S(),t=a.a.useState(0),r=Object(o.a)(t,2),n=r[0],s=r[1];return Object(k.jsx)(p.a,{className:e.root,children:Object(k.jsxs)(m.a,{value:n,onChange:function(e,t){s(t)},indicatorColor:"primary",textColor:"primary",centered:!0,children:[Object(k.jsx)(O.a,{children:Object(k.jsx)(C,{})}),Object(k.jsx)(O.a,{className:e.leftAlign,variant:"h2",component:"h2",children:"JJRt"}),Object(k.jsx)(x.a,{label:"Contemporary"}),Object(k.jsx)(x.a,{label:"Impressionism"}),Object(k.jsx)(x.a,{label:"Cubism"}),Object(k.jsx)(x.a,{label:"Post-Impressionalism"}),Object(k.jsx)(x.a,{label:"Popart"})]})})},N=r(159),P=r(160),U=r(163),L=r(162),T=r(161),M=Object(i.a)({root:{maxWidth:345},media:{height:140}}),R=function(e){var t=e.product,r=M();return Object(k.jsxs)(N.a,{className:r.root,children:[Object(k.jsxs)(P.a,{children:[Object(k.jsx)(T.a,{className:r.media,image:t.img_url,title:"Contemplative Reptile"}),Object(k.jsxs)(L.a,{children:[Object(k.jsx)(O.a,{gutterBottom:!0,variant:"h5",component:"h2",children:t.name}),Object(k.jsx)(O.a,{variant:"body2",color:"textSecondary",component:"p",children:t.artist})]})]}),Object(k.jsxs)(U.a,{children:[Object(k.jsx)(g.a,{size:"small",color:"primary",children:"Purchase"}),Object(k.jsx)(g.a,{size:"small",color:"primary",children:"Learn More"}),Object(k.jsx)(O.a,{variant:"body2",color:"textSecondary",component:"p",children:t.price})]})]})},B=r(164),A=r(18),E=r.n(A),q=r(27),J=r(99).default;function _(e,t){return D.apply(this,arguments)}function D(){return(D=Object(q.a)(E.a.mark((function e(t,r){var n,a;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n={username:t,password:r},e.next=4,J.post("/api/register",n);case 4:return a=e.sent,e.abrupt("return",a);case 8:throw e.prev=8,e.t0=e.catch(0),e.t0;case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function G(e,t){return z.apply(this,arguments)}function z(){return(z=Object(q.a)(E.a.mark((function e(t,r){var n,a;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n={username:t,password:r},e.next=4,J.post("/api/login",n);case 4:return a=e.sent,e.abrupt("return",a);case 8:throw e.prev=8,e.t0=e.catch(0),e.t0;case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function W(){return Y.apply(this,arguments)}function Y(){return(Y=Object(q.a)(E.a.mark((function e(){var t,r;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,J.get("/api/merchandise");case 3:return t=e.sent,t.response,r=t.data,console.log(r,"from getAllMerchandise"),e.abrupt("return",r);case 10:throw e.prev=10,e.t0=e.catch(0),e.t0;case 13:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}var H=Object(i.a)({root:{flexGrow:1,padding:20}}),F=function(e){var t=e.merchandise,r=e.setMerchandise,a=H();return Object(n.useEffect)((function(){try{Promise.all([W()]).then((function(e){r(e[0])}))}catch(e){console.log(e)}}),[]),Object(k.jsxs)("div",{children:[Object(k.jsx)("span",{children:Object(k.jsx)("h1",{children:"Pieces for Sale"})}),Object(k.jsx)("div",{className:a.root,children:Object(k.jsx)(B.a,{container:!0,spacing:6,children:t.map((function(e,t){return Object(k.jsx)(B.a,{item:!0,xs:6,sm:4,children:Object(k.jsx)(R,{product:e},t)})}))})})]})};var K=function(e){var t=e.username,r=e.setUsername,n=e.password,a=e.setPassword,s=(e.loggedIn,e.userToken,e.setUserToken),c=e.setLoggedIn,i=Object(h.e)(),l=function(){var e=Object(q.a)(E.a.mark((function e(a){var l,u;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),e.prev=1,e.next=4,G(t,n);case 4:if((l=e.sent).error)alert("Incorrect Credentials");else{u=l.token,localStorage.setItem("Token",u),s(u),c(!0),r(t),localStorage.setItem("Username",t),alert("You are logged in as ".concat(t));try{Promise.all([getMyRoutines(u,t)]).then((function(e){var t=Object(o.a)(e,1)[0];setMyRoutines(t)}))}catch(j){console.error(j)}i.push("/")}e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.error(e.t0);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}();return Object(k.jsx)("div",{children:Object(k.jsx)("div",{children:Object(k.jsxs)("form",{className:"form-style-8",onSubmit:l,children:[Object(k.jsx)("h2",{children:"Login"}),Object(k.jsx)("input",{type:"text",minLength:"5",placeholder:"Username",value:t,onChange:function(e){return r(e.target.value)},required:!0}),Object(k.jsx)("input",{type:"password",minLength:"7",placeholder:"Password",value:n,onChange:function(e){return a(e.target.value)},required:!0}),Object(k.jsx)("div",{className:"submitRegister",children:Object(k.jsx)("button",{type:"submit",className:"submitBtn",children:"Submit"})})]})})})},Q=function(e){var t=e.username,r=e.setUsername,a=e.password,s=e.setPassword,c=(e.userToken,e.setUserToken),i=e.setLoggedIn,l=(e.loggedIn,Object(n.useState)("")),u=Object(o.a)(l,2),j=u[0],d=u[1],b=Object(h.e)(),p=function(){var e=Object(q.a)(E.a.mark((function e(n){var s,o;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.prev=1,e.next=4,_(t,a);case 4:(s=e.sent).error?alert("Error Registering User"):(o=s.token,localStorage.setItem("Token",o),c(o),i(!0),r(t),localStorage.setItem("Username",t),alert("You are logged in as ".concat(t)),d(""),b.push("/")),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.error(e.t0);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}();return Object(k.jsx)("div",{children:Object(k.jsxs)("form",{className:"form-style-8",onSubmit:function(e){e.preventDefault(),a!==j?alert("Passwords do not match"):p(e)},children:[Object(k.jsx)("h2",{children:"Register"}),Object(k.jsx)("input",{type:"text",minLength:"5",placeholder:"Username",value:t,onChange:function(e){return r(e.target.value)},required:!0}),Object(k.jsx)("input",{type:"password",minLength:"7",placeholder:"Password",value:a,onChange:function(e){return s(e.target.value)},required:!0}),Object(k.jsx)("input",{type:"password",placeholder:"Password Confirmation",value:j,onChange:function(e){return d(e.target.value)}}),Object(k.jsx)("div",{className:"submitRegister",children:Object(k.jsx)("button",{type:"submit",className:"submitBtn",children:"Submit"})})]})})},V=function(){var e=Object(i.a)({root:{flexGrow:1,maxWidth:1500}})(),t=Object(n.useState)([]),r=Object(o.a)(t,2),a=r[0],s=r[1],c=Object(n.useState)(""),j=Object(o.a)(c,2),p=j[0],m=j[1],x=Object(n.useState)(""),O=Object(o.a)(x,2),g=O[0],f=O[1],v=Object(n.useState)(""),w=Object(o.a)(v,2),y=w[0],C=w[1],S=Object(n.useState)(""),N=Object(o.a)(S,2),P=N[0],U=N[1];return Object(k.jsx)(l.a,{theme:d,children:Object(k.jsx)(u.a,{children:Object(k.jsx)(b.a,{className:e.root,children:Object(k.jsxs)("div",{className:"app",style:{padding:"20px"},children:[Object(k.jsx)(I,{}),Object(k.jsx)(h.a,{exact:!0,path:"/register",children:Object(k.jsx)(Q,{username:p,setUsername:m,password:g,setPassword:f,userToken:y,setUserToken:C,setLoggedIn:U,loggedIn:P})}),Object(k.jsx)(h.a,{exact:!0,path:"/merchandise",children:Object(k.jsx)(F,{merchandise:a,setMerchandise:s})}),Object(k.jsx)(h.a,{exact:!0,path:"/login",children:Object(k.jsx)(K,{username:p,setUsername:m,password:g,setPassword:f,loggedIn:P,userToken:y,setUserToken:C,setLoggedIn:U,history:history})})]})})})})};c.a.render(Object(k.jsx)(a.a.StrictMode,{children:Object(k.jsx)(V,{})}),document.getElementById("root"))}},[[118,1,2]]]);
//# sourceMappingURL=main.e73bde6d.chunk.js.map